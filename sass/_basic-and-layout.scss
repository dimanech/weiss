//  __  __  __    _
//  \ \/  \/ /__ (_) __  __                /\
//   \  /\  / -_)| |(__ (__            /\ /  \/\
//    \/  \/\___||_| __) __) css framework /\/\ \
//          http://dimanech.github.com/weiss/  \ \
//
// ============================================================================
//    Variables
// ============================================================================

// http://sass-lang.com/docs/yardoc/Sass/Script/Functions.html
// http://sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html

/* 
 * TODO
 * compass вертикальный ритм
 * 
 * сетка и layout на сетке
 * 
 * 
 * em удалить
 *  */



$mainBgColor: #fff;
$mainFgColor: #ccc;
$baseColor: #434343;
$accentColor: #000;
$lnColor: #09f;
$lnHoverColor: lighten($lnColor, 15%);
$containerWidth: 974px;
$mainWidth: percentage(724px / $containerWidth);
$asideWidth: percentage(227px / $containerWidth);
$twoSdbarsMainWidth: percentage(474px / $containerWidth);

article, aside, details, figcaption, figure,
footer, header, hgroup, nav, section {
  display: block; // anonymous inline element fix for older browsers if js has been off
}

audio, canvas, video {
  display: inline-block;
}

blockquote, q {
  quotes: none;
  
  &:before, &:after {
    content: ''; // remove this because real user don`t format this way
  }
}

/* ============================================================================
    1. BASIC
============================================================================= */

/*
@font-face {
  font-family: 'Example';
  src: url('../fonts/example.eot');
  src: url('../fonts/example.eot?iefix') format('eot'),
    url('../fonts/example.woff') format('woff'),
    url('../fonts/example.ttf') format('truetype'),
    url('../fonts/example.svg#webfontOkOndcij') format('svg');
  font-weight: normal;
  font-style: normal;
}
*/

/* ============================================================================
    1.1. Typography
============================================================================= */

@import "compass/typography/vertical_rhythm";
// http://compass-style.org/reference/compass/typography/vertical_rhythm/

$sans: Arial, FreeSans, sans-serif;
$hSans: Verdana,"Bitstream Vera Sans","DejaVu Sans", sans-serif;
$hSansCond: Tahoma, Geneva, "DejaVu Sans Condensed", sans-serif;
$serif: "Times New Roman", Times, "FreeSerif", "Nimbus Roman No9 L", serif;
$bSerif: Georgia, "Bitstream Charter", "Century Schoolbook L", serif;
$aSerif: Palatino, "Palatino Linotype", Palladio, "URW Palladio L", "Book Antiqua", serif;
$monospSerif: "Courier New", Courier, FreeMono, "Nimbus Mono L", monospace;
$monospSans: "Lucida Console", Monaco, "DejaVu Sans Mono", "Bitstream Vera Sans Mono", monospace;
$grotCond: "Arial Narrow", "DejaVu Sans Condensed", sans-serif;

$onBodyCustomFont: false;

$customFontReg: 'Example', sans;
$customFontIt: 'Example-italic', sans;
$customFontBold: 'Example-bold', sans;
$customFontBlIt: 'Example-bold-italic', sans;

$baseFontFamily: $sans;
$baseFontFamilyMono: $monospSerif;

$base-font-size: 16px; // The font size set on the root html element.
$base-line-height: 24px; // This line-height determines the basic unit of vertical rhythm.

$h1-font-size: 2 * $base-font-size;
$h2-font-size: 1.5 * $base-font-size;
$h3-font-size: 1.17 * $base-font-size;
$h4-font-size: 1 * $base-font-size;
$h5-font-size: 0.83 * $base-font-size;
$h6-font-size: 0.75 * $base-font-size;

h1, h2, .h1, .h2, h3, h4, h5, h6, .h3, .h4, .h5, .h6 {
  line-height: 1.2em;
  font-weight: normal;
}

h1, h2, .h1, .h2 {
}

h1, .h1 {
  font-size: 2.14em;
  margin: 0 0 1em;
}

h2, .h2 {
  font-size: 1.5em;
  margin: .83em 0;
}

h3, h4, h5, h6, .h3, .h4, .h5, .h6 {
  @if $onBodyCustomFont {
    font-weight: normal;
    font-family: $customFontBold;
  } @else {
    font-weight: bold;
  }
}

h3, .h3 {
  font-size: 1.17em;
  line-height: 1.429em;
  margin: 1em 0;
}

h4, .h4 {
  font-size: 1em;
  margin: 1.3em 0;
}

h5, .h5, h6, .h6 {
  font-size: 1em;
  font-style: italic;
  margin: 1.67em 0;
}

h6, .h6 {
  font-weight: normal;
}

p, pre, blockquote, table {
  margin: 0 0 1em 0;
}

p {
  font-size: 1em;
}

blockquote {
  margin-left: 4.2em;
  @if $onBodyCustomFont {
    font-weight: normal;
    font-family: $customFontIt;
  } @else {
    font-style: italic;
  }
}

strong, b {
  @if $onBodyCustomFont {
    font-weight: normal;
    font-family: $customFontBold;
  } @else {
    font-weight: bold;
  }
}

em, i, cite {
  @if $onBodyCustomFont {
    font-weight: normal;
    font-family: $customFontIt;
  } @else {
    font-style: italic;
  }
}

// NOTE: link pseudoclases order -- link, visited, hover, active

a {
  color: $lnColor;

  &:visited {
    color: $lnColor;
  }

  &:hover, &:active {
    color: $lnHoverColor;
  }

  //&[href^="tel"], &[href^="mailto"], &[href^="callto"] {
  //  @extend .psln;
  //}
}

/* embed content */

img {
  font-size: 1em;
  color: #444; // alt text style
  position: relative;  // Chrome outline around img in a; ie5-6 floating image disappearing fix
  border: none; // remove border if in <a> elem
  -ms-interpolation-mode: bicubic; // improve IE7's resizing of images
}

object,
embed,
video {
  max-width:100%;
  height:auto;
}

// selection fixes

// ::-moz-selection {
  // text-shadow: none;
// }
// 
// ::selection {
  // text-shadow: none;
// }
// 
// body {
  // -webkit-tap-highlight-color: rgb(255,255,158);
// }
// 
// *:target {
  // border-bottom: 3px solid rgba(0, 0, 0, .1);
// }

/* ============================================================================
    1.2. Lists and tables
============================================================================= */

/* Lists
   --------------------------------------------------------------------------*/

ul, ol, dl {
  margin: 0 1.5em 1.5em 0;
  padding-left: 1.5em;
}

ul, ol {
  li {
    margin: .357em 0 .357em 1.5em;
  }
}

ul li {
  list-style: disc outside;
}

ol li {
  list-style: decimal outside;
}

ol ul li {
  list-style: disc; // ul inside ul fix
}

dl dt, dfn {
  font-weight: bold;
  font-style: italic;
}

dl dd {
  margin-left: 1.5em;
}

/* Tables
   --------------------------------------------------------------------------*/

table {
  border-collapse: collapse;
  border-spacing: 0;
  border-width:0;
  width: 100%;
  table-layout: fixed;
  word-wrap: break-word;
  empty-cells: hide;
}

caption {
  font-size: 1.429em;
  padding-bottom: .429em;
}

td, th {
  vertical-align: middle;
  padding: 0 .429em;
  border: 1px solid #ccc;

  thead & {
    font-weight: bold;
  }
}

tbody {

  td {
    
    &[colspan] {
      text-align:center;
    }
    
    &[rowspan] {
      vertical-align:middle;
    }
  
    &[colspan="1"] {
      text-align: left;
    }
    
    &[rowspan="1"] {
      vertical-align: top;
    }
    
    &:empty {
      border: none;
    }
  }
  
  tr:nth-of-type(odd) td {
    background-color: rgba(0,0,0,0.05);
  }
}

tfoot {
  text-align: center;
  font-size: .9em;
  @if $onBodyCustomFont {
    font-weight: normal;
    font-family: $customFontIt;
  } @else {
    font-style: italic;
  }
}

/* ============================================================================
    1.3. Forms
============================================================================= */

form {
  border: none;
}

button, input, select, textarea {
  font: 1em/1.429em #{$baseFontFamily};
  //margin: 0;
  vertical-align: baseline;
}

label {
  display: block;
  font-weight: normal;
}

input {
  
  &[type="button"], &[type="submit"],
  &[type="reset"], &[type="image"] {
    cursor: default;
    -webkit-appearance: button;
  }

  &[type="checkbox"], &[type="radio"] {
    box-sizing: border-box;
  }

  &[type="radio"]{
    vertical-align: text-top;
  }

  &[type="checkbox"] {
    vertical-align: baseline;
  }

  &[type="search"] {
    -webkit-appearance: none;
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box;
    box-sizing: content-box;

    &::-webkit-search-decoration {
      -webkit-appearance: none;
    }
  }

}

// themed form

input[type="text"],
input[type="password"],
input[type="search"],
select, textarea {
  border: 1px solid;
  border-color: #777 #ccc #ccc;
  background: #fff;
  padding: 0 .429em;
  height: 1.4em;
  line-height: 1.4em;

  &:hover {
    border-color:#777;
  }

  &:focus {
    border-color: $lnColor;
    outline: none;
  }
}

input[type="button"],
input[type="submit"],
input[type="image"], button {
  color: #efefef;
  background: #2d2d2d;
  border: 1px solid #2d2d2d;

  &:hover, &:focus {
    border-color: $lnColor;
  }
}

textarea {
  overflow: auto;
  vertical-align: top;
  height: auto; // overwrite theming on form element
  line-height: 1.2em;
  padding: .2em .429em;
  resize: vertical;
  min-height: 4em;
  max-height: 14em;
}

select {
}

select[multiple="multiple"]{
  height: auto; // overwrite theming on form element
}

optgroup {
  font-weight: normal;
  background: #ccc;
}

fieldset {
  border: 1px solid #ccc;
  margin: 0 0 1.4375em;
  padding: 1em 1.5em 1.5em;
}

legend {
  border: 0;
  padding: 0;
}

button::-moz-focus-inner, input::-moz-focus-inner {
  // Remove inner padding and border in FF3/4
  border: 0;
  padding: 0;
}

.ie6-7 {
  button, input, select, textarea {
    vertical-align: middle;
  }

  button, input {
    overflow: visible;
  }
}

// placeholder styles

// input::-webkit-input-placeholder {
// }
// 
// input:-moz-placeholder {
// }

// Colors for native form validition 

// input:valid, textarea:valid {}
// 
// input:invalid, textarea:invalid {}

/* ============================================================================
    1.4. Specific
============================================================================= */

sup, sub {
  vertical-align:baseline;
  position: relative;
  font-size: .8em;
  font-weight: inherit;
}

sup {
  top: -0.5em;
}

sub {
  bottom: -0.25em;
}

address {
  font-style:normal;
}

mark {
  background-color: #ff9;
  color: #000;
}

hr {
  background: #666;
  border: none;
  clear: both;
  float: none;
  height: 1px;
  margin: 0 0 1.4375em;
  width: 100%;
}

u {
  text-decoration: none; // remove textdecoration for save <a> style
}

figure {
  margin: 0;
}

/* ============================================================================
    1.5. Page Layout
============================================================================= */

body {
  font: #{$base-font-size}/#{$base-line-height} #{$baseFontFamily};
  color: $baseColor;
  background: $mainBgColor;
  overflow-y: scroll; // force scroll
  margin: 0; // normalization

  .ie6-7 & {
    overflow-y: auto; // ie sticky footer fix
  }
}

/* header
   --------------------------------------------------------------------------*/

#header {}

/* main
   --------------------------------------------------------------------------*/

#main-container {
  background-color: $mainFgColor;
}

#main-inner {
  width: $containerWidth;
  margin: 0 auto;
  position: relative;
  background-color: $mainBgColor;
}

#main {
  margin-bottom: 2em;
  width: 100%;
}

.two-sidebars-main {
  float: left;
  margin-left: $asideWidth+2.5%;
  width: $twoSdbarsMainWidth;
  
  .ie6-7 & {
    display:inline; //double margin ie6 fix
  }
}

.sidebar-first-main {
  float: right;
  width: $mainWidth;
}

.sidebar-second-main {
  float: left;
  margin: 0;
  padding: 0;
  width: $mainWidth;
}

/* sidebars
   --------------------------------------------------------------------------*/

.two-sidebars-sidebar-first {
  float: left;
  margin-left: -$mainWidth;
  width: $asideWidth;
}

.two-sidebars-sidebar-second {
  float: right;
  width: $asideWidth;
}

.sidebar-first-aside,
.sidebar-second-aside {
  float: left;
  width: $asideWidth;
}

.sidebar-second-aside {
  float: right;
}

/* footer
   --------------------------------------------------------------------------*/

#footer {
  clear: both;
  overflow: hidden;
}

/* Styicky footer
   --------------------------------------------------------------------------*/

@media screen and (max-width: 2400px) {

$footer-height: 50px;

  html, body {
    height: 100%;
  }

  #main-container {
    min-height: 100%;
    height: auto !important;
    height: 100%;
    margin: 0 auto;
    margin-bottom: -$footer-height;
  }

  #main-inner {
    padding-bottom: $footer-height;
  }

  #footer {
    position: relative;
    height: $footer-height;
  }
}

/* ============================================================================
    Basic masterclasses
============================================================================= */

.clearfix {
  
  &:before {
    content:"";
    display:table;
  }

  &:after {
    clear: both;
    content: ".";
    display: block;
    height: 0;
    font-size: 0;
    visibility: hidden;
  }

  .ie6-7 & {
    zoom: 1;
  }
}

/* position support */

.c-container {
  width: $containerWidth;
  margin: 0 auto;
}

.left-side {
  float:left;
}

.right-side {
  float:right;
}

// .ie6-7 {
 // .right-side, .left-side {
   // display:inline; 
 // }
// }

span.br {
  display:block;
}

/* style support */

/* ul styles */
// .flat { 
//   margin: 0;
//   padding: 0;

//   li {
//     margin: 0;
//     list-style: none;
//     background:none;
//   }
// }

// .unstyled {
//   li {
//     list-style:none;
//   }
// }

.psln {
  color: $lnColor;
  text-decoration:none;
  border-bottom: 1px dashed;
  position: relative;
  cursor: pointer;

  &:hover, &:focus {
    color: $lnHoverColor;
  }
}

/* form support */

.form-row {
  overflow:hidden;
  clear:both;
  padding: .4em 0;
}

.form-item {
  float:left;
  padding: 0 .4em 0 0;  
}

/* hacks and long rules */

.opacity {
  opacity: .85;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity = 85)";
  filter: alpha(opacity = 85);
}

.dib {
  display:inline-block;
  vertical-align: top;
  
  .ie6-7 & {
    display: inline;
    zoom: 1;
  }
}

.ir {
  border: 0;
  font: 0/0 a;
  text-shadow: none;
  color: transparent;
  background-color: transparent;
}

.img-container { // image wrapper
  overflow: hidden;
  @extend .dib;

  img {
    display: block;
    position: static;
  }
}

/* ============================================================================
    Sprite support
============================================================================= */

span.ico {
  /* background: url("../images/main-sprite.png") 0 0 no-repeat; */
  display: inline-block;
  position: relative;
 
  .ie6-7 & {
    display: inline;
    zoom: 1;
  }
}


// embed service mormalize

#plusone,
.YMaps-b-balloon-frame,
#vkshare0,
.bitrix {
  table, td, th, tr {
    margin: 0;
    padding: 0;
    border: none;
  }
}

.bitrix {
  input, select, textarea {
    border: initial;
    margin: initial;
    padding: initial;
    background: initial;
  }
}

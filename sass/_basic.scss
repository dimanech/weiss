//  __  __  __    _
//  \ \/  \/ /__ (_) __  __                /\
//   \  /\  / -_)| |(__ (__            /\ /  \/\
//    \/  \/\___||_| __) __) css framework /\/\ \
//          http://dimanech.github.com/weiss/  \ \
//
// ============================================================================
//    Variables
// ============================================================================

// http://sass-lang.com/docs/yardoc/Sass/Script/Functions.html
// http://sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html

$mainBgColor: #fff;
$mainFgColor: #ccc;
$baseColor: #434343;
$accentColor: #000;
$lnColor: #09f;
$lnHoverColor: lighten($lnColor, 15%);
$containerWidth: 974px;
$mainWidth: percentage(724px / $containerWidth);
$asideWidth: percentage(227px / $containerWidth);
$twoSdbarsMainWidth: percentage(474px / $containerWidth);

article, aside, details, figcaption, figure,
footer, header, hgroup, nav, section {
  display: block; // anonymous inline element fix for older browsers if js has been off
}

audio, canvas, video {
  display: inline-block;
}

blockquote, q {
  quotes: none;
  
  &:before, &:after {
    content: ''; // remove this because real user don`t format this way
  }
}

/* ============================================================================
    Import from basic.scss

    1. BASIC
============================================================================= */

@font-face {
    font-family: 'ALSRublRegular';
    src: url('../fonts/ASLRubl/rouble-webfont.eot');
    src: url('../fonts/ASLRubl/rouble-webfont.eot?#iefix') format('embedded-opentype'),
         url('../fonts/ASLRubl/rouble-webfont.woff') format('woff'),
         url('../fonts/ASLRubl/rouble-webfont.ttf') format('truetype'),
         url('../fonts/ASLRubl/rouble-webfont.svg#ALSRublRegular') format('svg');
    font-weight: normal;
    font-style: normal;
}

/* ============================================================================
    1.1. Typography
============================================================================= */

@import "compass/typography/vertical_rhythm";
// http://compass-style.org/reference/compass/typography/vertical_rhythm/

$sans: Arial, FreeSans, sans-serif;
$hSans: Verdana,"Bitstream Vera Sans","DejaVu Sans", sans-serif;
$hSansCond: Tahoma, Geneva, "DejaVu Sans Condensed", sans-serif;
$serif: "Times New Roman", Times, "FreeSerif", "Nimbus Roman No9 L", serif;
$bSerif: Georgia, "Bitstream Charter", "Century Schoolbook L", serif;
$aSerif: Palatino, "Palatino Linotype", Palladio, "URW Palladio L", "Book Antiqua", serif;
$monospSerif: "Courier New", Courier, FreeMono, "Nimbus Mono L", monospace;
$monospSans: "Lucida Console", Monaco, "DejaVu Sans Mono", "Bitstream Vera Sans Mono", monospace;
$grotCond: "Arial Narrow", "DejaVu Sans Condensed", sans-serif;

$onBodyCustomFont: false;

$customFontReg: 'MyrProRegular', Arial, FreeSans, sans-serif;
$customFontIt: 'myriadproItalic', Arial, FreeSans, sans-serif;
$customFontBold: 'myriadproBold', Arial, FreeSans, sans-serif;
$customFontBlIt: 'myriadproBoldItalic', Arial, FreeSans, sans-serif;

$baseFontFamily: $sans;
$baseFontFamilyMono: $monospSerif;

$base-font-size: 14px; // The font size set on the root html element.
$base-line-height: 18px; // This line-height determines the basic unit of vertical rhythm.

$h1-font-size: 2.1 * $base-font-size;
$h2-font-size: 1.5 * $base-font-size;
$h3-font-size: 1.17 * $base-font-size;
$h4-font-size: 1 * $base-font-size;
$h5-font-size: 0.83 * $base-font-size;
$h6-font-size: 0.75 * $base-font-size;

h1, h2, .h1, .h2, h3, h4, h5, h6, .h3, .h4, .h5, .h6 {
  font-weight: normal;
}

h1, .h1 {
  @include adjust-font-size-to( $h1-font-size );
  @include leader(1, $h1-font-size);
  @include trailer(1, $h1-font-size);
}

h2, .h2 {
  @include adjust-font-size-to( $h2-font-size );
  @include leader(1, $h2-font-size);
  @include trailer(1, $h2-font-size);
}

h3, h4, h5, h6, .h3, .h4, .h5, .h6 {
  @if $onBodyCustomFont {
    font-weight: normal;
    font-family: $customFontBold;
  } @else {
    font-weight: bold;
  }
}

h3, .h3 {
  @include adjust-font-size-to( $h3-font-size );
  @include leader(1, $h3-font-size);
  @include trailer(1, $h3-font-size);
}

h4, .h4 {
  @include adjust-font-size-to( $h4-font-size );
  @include leader(1, $h4-font-size);
  @include trailer(1, $h4-font-size);
}

h5, .h5 {
  @include adjust-font-size-to( $h5-font-size );
  @include leader(1, $h5-font-size);
  @include trailer(1, $h5-font-size);
}

h6, .h6 {
  @include adjust-font-size-to( $h6-font-size );
  @include leader(1, $h6-font-size);
  @include trailer(1, $h6-font-size);
}

hr, .hr {
  height: 1px;
  border: none;
  background: #666;
  width: 100%;
  clear: both;
  margin: rhythm(1) 0;
}

p, pre, blockquote, table {
  @include leader(1);
  @include trailer(1);
}

blockquote {
  margin: rhythm(1) 4.2em 0;

  @if $onBodyCustomFont {
    font-weight: normal;
    font-family: $customFontIt;
  } @else {
    font-style: italic;
  }
}

strong, b {
  @if $onBodyCustomFont {
    font-weight: normal;
    font-family: $customFontBold;
  } @else {
    font-weight: bold;
  }
}

em, i, cite {
  @if $onBodyCustomFont {
    font-weight: normal;
    font-family: $customFontIt;
  } @else {
    font-style: italic;
  }
}

// NOTE: link pseudoclases order -- link, visited, hover, active

a {
  color: $lnColor;

  &:visited {
    color: $lnColor;
  }

  &:hover, &:active {
    color: $lnHoverColor;
  }

  //&[href^="tel"], &[href^="mailto"], &[href^="callto"] {
  //  @extend .psln;
  //}
}

/* embed content */

img {
  font-size: 1em;
  color: $baseColor; // alt text style
  position: relative;  // Chrome outline around img in a; ie5-6 floating image disappearing fix
  border: none; // remove border if in <a> elem
  -ms-interpolation-mode: bicubic; // improve IE7's resizing of images http://code.flickr.com/blog/2008/11/12/on-ui-quality-the-little-things-client-side-image-resizing/
}

object,
embed,
video {
  max-width:100%;
  height:auto;
}

// selection fixes

// ::-moz-selection {
  // text-shadow: none;
// }
// 
// ::selection {
  // text-shadow: none;
// }
// 
// body {
  // -webkit-tap-highlight-color: rgb(255,255,158);
// }
// 
// *:target {
  // border-bottom: 3px solid rgba(0, 0, 0, .1);
// }

/* ============================================================================
    1.2. Lists and tables
============================================================================= */

/* Lists
   --------------------------------------------------------------------------*/

ul, ol, dl {
  margin: rhythm(1) 0;
  padding-left: 1.5em;
}

ul, ol {
  li {
    margin: rhythm(0.2) 0;
  }
}

ul li {
  list-style: disc outside;
}

ol li {
  list-style: decimal outside;
}

ol ul li {
  list-style: disc; // ul inside ul fix
}

dl dt, dfn {
  font-weight: bold;
  font-style: italic;
}

dl dd {
  margin-left: 1.5em;
}

/* Tables
   --------------------------------------------------------------------------*/

table {
  border-collapse: collapse;
  border-spacing: 0;
  border-width: 0;
  width: 100%;
  table-layout: fixed;
  word-wrap: break-word;
  empty-cells: hide;
}

caption {
  @include adjust-font-size-to($h2-font-size);
  @include trailer(1, $h2-font-size);
}

td, th {
  vertical-align: middle;
  padding: 0 rhythm(0.4);
  border: 1px solid #ccc;

  thead & {
    font-weight: bold;
  }
}

tbody {

  td {
    
    &[colspan] {
      text-align:center;
    }
    
    &[rowspan] {
      vertical-align:middle;
    }
  
    &[colspan="1"] {
      text-align: left;
    }
    
    &[rowspan="1"] {
      vertical-align: top;
    }
    
    &:empty {
      border: none;
    }
  }
  
  tr:nth-of-type(odd) td {
    background-color: rgba(0,0,0,0.05);
  }
}

tfoot {
  text-align: center;
  font-size: .9em;
  @if $onBodyCustomFont {
    font-weight: normal;
    font-family: $customFontIt;
  } @else {
    font-style: italic;
  }
}

/* ============================================================================
    1.3. Forms
============================================================================= */

form {
  border: none;
}

button, input, select, textarea {
  font: 1em/1.429em #{$baseFontFamily};
  //margin: 0;
  vertical-align: baseline;
}

label {
  display: block;
  font-weight: normal;
}

input {
  
  &[type="button"], &[type="submit"],
  &[type="reset"], &[type="image"] {
    cursor: default;
    -webkit-appearance: button;
  }

  &[type="checkbox"], &[type="radio"] {
    box-sizing: border-box;
    padding: 0;
  }

  &[type="radio"]{
    vertical-align: text-top;
  }

  &[type="checkbox"] {
    vertical-align: baseline;
  }

  &[type="search"] {
    -webkit-appearance: none;
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box;
    box-sizing: content-box;

    &::-webkit-search-decoration {
      -webkit-appearance: none;
    }
  }

}

// themed form

input[type="text"],
input[type="password"],
input[type="search"],
select, textarea {
  border: 1px solid;
  border-color: #777 #ccc #ccc;
  background: #fff;
  padding: 0 .429em;
  height: 1.4em;
  line-height: 1.4em;

  &:hover {
    border-color:#777;
  }

  &:focus {
    border-color: $lnColor;
    outline: none;
  }
}

input[type="button"],
input[type="submit"],
input[type="image"], button {
  color: #efefef;
  background: #2d2d2d;
  border: 1px solid #2d2d2d;
  *overflow: visible; //Removes inner spacing in IE7 without affecting normal text inputs
  -webkit-appearance: button; //Corrects inability to style clickable 'input' types in iOS

  &:hover, &:focus {
    border-color: $lnColor;
  }
}

// button[disabled],
// input[disabled] {
//   cursor: default;
// }

textarea {
  overflow: auto; //Removes default vertical scrollbar in IE6/7/8/9
  vertical-align: top; //Improves readability and alignment in all browsers
  height: auto; // overwrite theming on form element
  line-height: 1.2em;
  padding: .2em .429em;
  resize: vertical;
  min-height: 4em;
  max-height: 14em;
}

select {
}

select[multiple="multiple"]{
  height: auto; // overwrite theming on form element
}

optgroup {
  font-weight: normal;
  background: #ccc;
}

fieldset {
  border: 1px solid #ccc;
  margin: 0 2px;
  @include rhythm(1, 0.4, 1, 0, $base-font-size);
}

legend {
  border: 0;
  padding: 0;
}

// Removes inner padding and border in FF3+ www.sitepen.com/blog/2008/05/14/the-devils-in-the-details-fixing-dojos-toolbar-buttons/
button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}

.ie6-7 {
  button, input, select, textarea {
    vertical-align: middle;
  }

  button, input {
    overflow: visible;
  }

  input[type="checkbox"],
  input[type="radio"] {
    height: 13px;
    width: 13px;
  }
}

// placeholder styles

// input::-webkit-input-placeholder {
// }
// 
// input:-moz-placeholder {
// }

// Colors for native form validition 

// input:valid, textarea:valid {}
// 
// input:invalid, textarea:invalid {}

// input[type="search"]::-webkit-search-decoration,
// input[type="search"]::-webkit-search-cancel-button {
//   -webkit-appearance: none;
// }

/* ============================================================================
    1.4. Specific
============================================================================= */

// Prevents sub and sup affecting line-height in all browsers gist.github.com/413930
sup, sub {
  vertical-align:baseline;
  position: relative;
  font-size: .8em;
  font-weight: inherit;
}

sup {
  top: -0.5em;
}

sub {
  bottom: -0.25em;
}

small {
  font-size: .75em;
}

address {
  font-style:normal;
}

mark {
  background-color: #ff9;
  color: #000;
}

u {
  text-decoration: none; // remove textdecoration for save <a> style
}

figure {
  margin: 0;
}

/* ============================================================================
    1.5 Basic masterclasses
============================================================================= */

.clearfix {
  
  &:before {
    content:"";
    display:table;
  }

  &:after {
    clear: both;
    content: ".";
    display: block;
    height: 0;
    font-size: 0;
    visibility: hidden;
  }

  .ie6-7 & {
    zoom: 1;
  }
}

/* position support */

.c-container {
  width: $containerWidth;
  margin: 0 auto;
}

.left-side {
  float:left;
}

.right-side {
  float:right;
}

// .ie6 {
 // .right-side, .left-side {
   // display:inline; 
 // }
// }

span.br {
  display:block;
}

/* style support */

/* ul styles */
// .flat { 
//   margin: 0;
//   padding: 0;

//   li {
//     margin: 0;
//     list-style: none;
//     background:none;
//   }
// }

// .unstyled {
//   li {
//     list-style:none;
//   }
// }

.psln {
  color: $lnColor;
  text-decoration:none;
  border-bottom: 1px dashed;
  position: relative;
  cursor: pointer;

  &:hover, &:focus {
    color: $lnHoverColor;
  }
}

/* form support */

.form-row {
  overflow:hidden;
  clear:both;
  padding: .4em 0;
}

.form-item {
  float:left;
  padding: 0 .4em 0 0;  
}

/* hacks and long rules */

.opacity {
  opacity: .85;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity = 85)";
  filter: alpha(opacity = 85);
}

.dib {
  display:inline-block;
  vertical-align: top;
  
  .ie6-7 & {
    display: inline;
    zoom: 1;
  }
}

.ir {
  border: 0;
  font: 0/0 a;
  text-shadow: none;
  color: transparent;
  background-color: transparent;
}

.img-container { // image wrapper
  overflow: hidden;
  @extend .dib;

  img {
    display: block;
    position: static;
  }
}

/* ============================================================================
    Sprite support
============================================================================= */

span.ico {
  /* background: url("../images/main-sprite.png") 0 0 no-repeat; */
  display: inline-block;
  position: relative;
 
  .ie6-7 & {
    display: inline;
    zoom: 1;
  }
}

/* ============================================================================
    1.6 Embed content reset
============================================================================= */

#plusone,
.YMaps-b-balloon-frame,
#vkshare0,
.bitrix {
  table, td, th, tr {
    margin: 0;
    padding: 0;
    border: none;
  }
}

.bitrix {
  input, select, textarea {
    border: initial;
    margin: initial;
    padding: initial;
    background: initial;
  }
}
